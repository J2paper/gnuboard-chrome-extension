<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>그누보드4 내맞춤쪽 - Options</title>
	<link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGRTdGMTE3NDA3MjA2ODExQTNBRERCOEVDNkJFNUNGOCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2OTgxQUE2NDlCOUIxMUUwQjQzQ0U1RjFBMkY3MTRDQSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2OTgxQUE2MzlCOUIxMUUwQjQzQ0U1RjFBMkY3MTRDQSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ4MDQ4RUREQUYyMDY4MTE5RDI1OTFFRTM5NDA5MEY1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZFN0YxMTc0MDcyMDY4MTFBM0FEREI4RUM2QkU1Q0Y4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ytrHsAAAAVVJREFUOMtj+P//PwMlmIGqBkhJSRUrKio+U1JSeqagoHADxCfJgIcPH2bV1NTcdHR0fObg4PDMwMDgmby8fCMpXuAF4qrNmzdf8PPze+bj4/PM0NDwGUEDxMXFw0EYJtjZ2Vnt7e39LDw8HOwSZWVlK7wG5Ofnt2pqaoIUngTiflNT02cgF0RGRj5zdXV9dvr0aRu8Bty6dSvEw8PjCcg2Ozu7ZyDbw8LCwAa4u7s/MzIymkIoDHgvX758ICEh4aG/v/+zwMDAZ8HBwWBDgoKCnllYWIBct1tMTIwPXyCqAvHqU6dOnQU6+eyBAwfOR0VFPQEZEBAQ8MzKyuqZhobGXnRDsDnLEIptr169egDojScg14AMsra2BhlyWkJCQpvYlKh65coVFENAYaStrX2LlKSMYggofEAuITUvwA0Bhce6desukJOZQIG8HYiPALEX1XIjAH5ZoHkUJbElAAAAAElFTkSuQmCC">
	<script type="text/javascript" src="background.js"></script>
	<style>
body {
  font-family:helvetica, arial, sans-serif;
  font-size:80%;
  margin:10px;
}

#header {
  padding-bottom:1.5em;
  padding-top:1.5em;
}

#header h1 {
  font-size: 156%;
  display:inline;
  padding-bottom:43px;
  padding-left:75px;
  padding-top:40px;
  background:url(icon128.png) no-repeat;
  background-size:67px;
  background-position:1px 18px;
}

.section-header {
  background:#ebeff9;
  border-top:1px solid #b5c7de;
  font-size:99%;
  padding:3px 0 2px 5px;
  font-weight:bold;
  margin-bottom:1em;
  margin-top:4em;
}

.section-header.first {
  margin-top:1em;
}

.line{
  margin-top:1em;
  margin-left:1em;
}
	</style>
</head>
<script type="text/javascript">
var old_server;
// Saves options to localStorage.
function save_options() {

	var server_Input = document.getElementById("server");
	var sitename_Input = document.getElementById("sitename");
	var soundCheckBox = document.getElementById("sound");
	var notifyCheckBox = document.getElementById("notify");
	
	localStorage["server"] = server_Input.value;
	localStorage["sitename"] = sitename_Input.value;
	if(soundCheckBox.checked) localStorage["soundOn"] = "true";
	else localStorage["soundOn"] = "false";
	if(notifyCheckBox.checked) localStorage["notifyOn"] = "true";
	else localStorage["notifyOn"] = "false";
	
	// Update status to let user know options were saved.
	var status = document.getElementById("status");
	status.innerHTML = "정보가 저장되었습니다.";
	setTimeout(function() {
		status.innerHTML = "";
	}, 1000);
  
	if(old_server!=server_Input.value) {
		chrome.extension.sendRequest({options: "saved"});
	}

	trackButton("OptionSaved");	// GA
	window.close();
}

// Restores select box state to saved value from localStorage.
function restore_options() {

	var server = localStorage["server"];
	var sitename = localStorage["sitename"];
	var sound  = localStorage["soundOn"];
	var notify = localStorage["notifyOn"];
	
	old_server = server;
	
	if (!server) {
		return;
	}
	
	document.getElementById("server").value  = server;
	if(!sitename) sitename = "그누보드4";
	document.getElementById("sitename").value = sitename;
	document.getElementById("sitename_hd").innerHTML = sitename;
	document.title = sitename + " 내맞춤쪽 - Options";
	if(sound=="true") document.getElementById("sound").checked = true;
	if(notify=="true") document.getElementById("notify").checked = true;
}

</script>

<body onload="restore_options()">
	<div id="header">
		<h1><span id="sitename_hd">그누보드4</span>&nbsp;내맞춤쪽</h1>
	</div>

	<div class="section-header first">서버정보 및 옵션</div>
		<form name="option">
			<div class="line"><b>서버주소</b>:&nbsp; <em>http://</em>&nbsp;<input type="text" id="server"/>&nbsp;<em>/checkNewMemos.php</em> and <em>checkNewResponses.php</em></div>
			<div class="line"><b>사이트이름</b>:&nbsp; <input type="text" id="sitename"/ value="그누보드4"></div>
			<div class="line"><b>새 쪽지 소리 알림</b>: &nbsp; <input type="checkbox" name="sound" id="sound"/><label for="sound">사용</label></div>
			<div class="line"><b>새 쪽지 데스크탑 알림</b>: &nbsp; <input type="checkbox" name="notify" id="notify"/><label for="notify">사용</label></div>
		</form>
	</div>
	<div class="line">
		<button onclick="save_options()" style="font-weight:bold">저장</button> 
		<label id="status"></label>  
	</div>
	
	<div class="section-header">익스텐션 정보</div>
	<div class="line">
		<p>그누보드4 내맞춤쪽 for 구글 크롬 @<a href="http://code.google.com/p/gnuboard-chrome-extension/" title="그누보드 크롬 익스텐션" onclick="trackButton('OptionGcode');">구글코드</a>.</p>
	</div>
	<div class="line"><b>버전</b>: 1.0.0</div>
	<div class="line"><b>배포날짜</b>: 2011.11.18</div>
	<div class="line"><b>사용방법</b>: 서버에 두 화일 (<a href='http://gnuboard-chrome-extension.googlecode.com/hg/gnuboard/checkNewMemos.php'>checkNewMemos.php</a> 와 <a href='http://gnuboard-chrome-extension.googlecode.com/hg/gnuboard/checkNewResponses.php'>checkNewResponses.php</a>) 를 그누보드 루트에 복사하고, 위 서버주소에 그누보드 루트 주소를 적습니다.</div>
	<div class="line"><b>주요 업데이트</b>:
		<ul>
			<li>쪽지와 반응 (내글/댓글에 달린 답/댓글) 통합</li>
		</ul>
	</div>

	<script src="analytics.js"></script>
</body>
</html>
